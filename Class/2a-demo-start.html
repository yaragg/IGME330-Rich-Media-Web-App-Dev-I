<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<title>Hello Canvas Done</title>
	<style type="text/css">
	canvas{
		border:1px solid gray;
	}
	</style>
	<script>
		// #0 - in this class we will always use ECMAScript 5's "strict" mode
		// See what 'use strict' does here:
		// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions_and_function_scope/Strict_mode
		'use strict';
		
		// #1 call the init function after the pages loads
		// this is called an "event handler"
		window.onload = init;

		var ctx;
	
		function init(){
			// #2 Now that the page has loaded, start drawing!
			console.log('init called');
			
			// A - canvas variable points at <canvas> tag
			var canvas = document.querySelector('canvas');
			
			// B - the ctx variable points at a "2D drawing context"
			ctx = canvas.getContext('2d');
			
			// C - all fill operations are now in yellow
			ctx.fillStyle = 'yellow'; 
			
			// D - fill a rectangle with the current fill color
			ctx.fillRect(0,0,640,480); 
			
			// E - set the current font
			ctx.font = 'bold 60pt Verdana'; 
			
			// F - change the current fill color
			ctx.fillStyle = '#44aa44'; 
			
			// G - draw stuff
			 
			//ctx.translate(100,0);
			//ctx.rotate(Math.PI/6);
			
			// square with fillRect() convenience method
			ctx.fillStyle="green";
			ctx.fillRect(100,100,100,100);
			
			// square with rect()
			ctx.fillStyle="blue";
			ctx.beginPath();
			ctx.rect(300,100,100,100);
			ctx.closePath();
			ctx.fill();
			
			// triangle
			ctx.strokeStyle="red";
			ctx.fillStyle="purple";
			ctx.lineWidth="5";
			ctx.beginPath();
			ctx.moveTo(500,100);
			ctx.lineTo(550,200);
			ctx.lineTo(450,200);
			ctx.closePath();

			ctx.fill();
			ctx.stroke();
			// ctx.save();
			// ctx.translate(0, 300);
			// ctx.scale(.5, .5);
			// ctx.rotate(Math.PI/4);
			drawSquare1(200, 0, 100, 100, "orange");
			// ctx.restore();
			drawSquare1(350, 0, 100, 100, "orange");
			drawSquare1(500, 0, 100, 100, "orange");

			drawSquare2(ctx,200,100,100,100,Math.PI/4.0,"purple",1.0);
			drawSquare2(ctx,400,100,100,100,Math.PI/4.0,"magenta",.5);
			drawSquare2(ctx,500,100,100,100,Math.PI/4.0,"purple",1.25);

		}

		function drawSquare1(x, y, width, height, fillStyle){
			ctx.fillStyle = fillStyle;
			ctx.fillRect(x, y, 100, 100);
		}

		function drawSquare2(ctx, x, y, width, height, rotation, fillStyle, scale){
			ctx.save(); //save the old state attributes
			ctx.fillStyle = fillStyle;
			ctx.translate(x, y);
			ctx.rotate(rotation);
			ctx.scale(scale, scale);
			//now we'll draw from the center to get the rotation right
			ctx.fillRect(0-width/2, 0-height/2, width, height);
			ctx.restore();
			//the old state attributes are restored, ctx is as it was before this function was called

		}
	</script>
</head>
<body>
	<canvas width="640" height="480">
		Get a real browser!
		<!-- The user will only see the above text if their browser is older and doesn't support <canvas> -->
	</canvas>
</body>
</html>
